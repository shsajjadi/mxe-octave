<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <title>MinGW cross compiling environment</title>

    <style type="text/css">
        body {
            font-size: 11pt;
            margin-top: 0em;
        }
        h1, h2, h3 {
            font-family: sans-serif;
        }
        h2 {
            font-size: 14pt;
        }
        h3 {
            font-size: 11pt;
            background-color: #eee;
        }
        ul {
            padding-left: 2em;
        }
        li, dt {
            margin-bottom: 0.8em;
        }
        .authors li {
            margin-bottom: 0em;
        }
        .usage dt {
            font-family: monospace;
        }
        dd {
            margin-bottom: 1em;
        }
        table {
            border-collapse: separate;
            border-spacing: 1px;
        }
        td, dt {
            background-color: #eee;
        }
        pre {
            font-size: 8pt;
            border: thin dotted #ccc;
            padding: 2pt;
        }
        #navigation a {
            text-decoration: none;
            color: #00f;
        }
        #navigation a:visited {
            text-decoration: none;
            color: #009;
        }
        #navigation ul {
            padding-left: 0em;
            margin-left: 0em;
            margin-top: 1.5em;
            margin-bottom: 0em;
            list-style-type: none;
        }
        #navigation li {
            margin-bottom: 0.2em;
        }
    @media screen, handheld {
        h1 {
            font-size: 12pt;
            margin-top: 0em;
        }
        h2 {
            margin-top: 0em;
            padding-top: 1em;
        }
        #navigation {
            position: fixed;
            float: left; /* hack for ancient browsers
                            which don't support "position: fixed;" */
            margin-top:  1em;
            margin-left: 1em;
            padding-left:   1em;
            padding-right:  1em;
            padding-top:    1em;
            padding-bottom: 1em;
            width: 12em;
            background-color: #afa;
        }
        .section {
            width: 30em;
            margin-left: 17em;
            margin-bottom: 100%;
        }
    }
    </style>

</head>
<body>

<div id="navigation">
<h1>MinGW cross&nbsp;compiling environment</h1>

    <ul>
        <li><a href="#introduction"  >Introduction</a></li>
        <li><a href="#tutorial"      >Tutorial</a></li>
        <li><a href="#latest-release">Latest Release</a></li>
        <li><a href="#development"   >Development Version</a></li>
    </ul>
    <ul>
        <li><a href="#requirements"  >Requirements</a></li>
        <li><a href="#usage"         >Usage</a></li>
        <li><a href="#packages"      >List of Packages</a></li>
        <li><a href="#copyright"     >Copyright</a></li>
        <li><a href="#history"       >History</a></li>
    </ul>
    <ul>
        <li><a href="#see-also"      >See also</a></li>
    </ul>
</div>

<div class="section">
<h2 id="introduction">Introduction</h2>

    <p>
    This Makefile compiles a MinGW cross compiler and cross compiles
    many free libraries such as GD and SDL. Thus, it provides a nice
    MinGW cross compiling environment which
    </p>

    <ul>
    <li>
        is designed to
        <a href="#requirements">run on any Unix system</a>
    </li>
    <li>
        is easy to adapt and to extend
    </li>
    <li>
        builds
        <a href="#packages">many free libraries</a>
        in addition to the cross compiler
    </li>
    <li>
        can also
        <a href="#usage">build just a subset</a>
        of the packages,
        and automatically builds their dependencies
    </li>
    <li>
        downloads all needed packages
        and verifies them by their checksums
    </li>
    <li>
        is able to update the version numbers of all packages automatically
    </li>
    <li>
        directly uses source packages,
        thus ensuring the whole build mechanism is transparent
    </li>
    <li>
        allows inter-package and intra-package
        <a href="#usage">parallel builds</a>
        whenever possible
    </li>
    <li>
        creates libraries to be linked statically, no DLL hell
    </li>
    </ul>
</div>

<div class="section">
<h2 id="tutorial">Tutorial</h2>

    <h3>Step 1: Download and Unpack</h3>

    <p>
    First, you should ensure that your system meets
    mingw_cross_env's
    <a href="#requirements">requirements</a>.
    You probably need to install some stuff.
    </p>

    <p>
    When everything is fine, download the
    <a href="#latest-release">latest release</a>
    and unpack the tarball:
    </p>
    <pre>wget http://www.profv.de/mingw_cross_env/mingw_cross_env-<span class="version">X.Y</span>.tar.gz
tar -xzvf mingw_cross_env-<span class="version">X.Y</span>.tar.gz</pre>

    <p>
    If you don't mind installing it in your home directory,
    just skip the following step and go straight to step 3.
    </p>

    <h3>Step 2: System-wide Installation (optional)</h3>

    <p>
    Now you should save any previous installation
    of the mingw_cross_env.
    Assuming you've installed it under
    /opt/mingw (any other directory will do as well),
    you should execute the following commands:
    </p>
    <pre>su
mv /opt/mingw /opt/mingw.old
exit</pre>

    <p>
    Then you need to transfer the entire directory to its definitive location.
    We will assume again you use /opt/mingw,
    but feel free to use any other directory if you like.
    </p>
    <pre>su
mv mingw_cross_env-<span class="version">X.Y</span> /opt/mingw
exit</pre>

    <p>
    We're almost done.
    Just change to your newly created directory and get going:
    </p>
    <pre>cd /opt/mingw</pre>

    <h3>Step 3: Build mingw_cross_env</h3>

    <p>
    Enter the directory where you've unpacked the
    mingw_cross_env.
    Now it depends on what you actually want &ndash; or need.
    </p>

    <p>
    If you choose to enter:
    </p>
    <pre>make</pre>
    <p>
    you're in for a long wait,
    because it compiles
    <a href="#packages">a lot of packages</a>.
    On the other hand it doesn't require any intervention,
    so you're free to do whatever you like
    &ndash; like watch a movie or go for a night on the town.
    When it's done you'll find that you've installed
    a very capable Win32 cross compiler onto your system.
    </p>

    <p>
    If you only need the most basic tools you can also use:
    </p>
    <pre>make gcc</pre>
    <p>
    and add any additional packages you need later on.
    You can also supply a host of packages on the
    <a href="#usage">command line</a>,
    e.g.:
    </p>
    <pre>make gtk lua libidn</pre>
    <p>
    You'll always end up with a consistent cross compiler environment.
    </p>

    <p>
    After you're done it just needs a little post-installation.
    </p>

    <h3>Step 4: Environment Variables</h3>

    <p>
    Edit your .bashrc script in order to change $PATH:
    </p>
    <pre>export PATH=/<em>where mingw_cross_env is installed</em>/usr/bin:$PATH</pre>

    <p>
    Note that any compiler related environment variables
    (like $CC, $LDFLAGS, etc.)
    may spoil your compiling pleasure,
    so be sure to delete or disable those.
    </p>

    <p>
    Congratulations!
    You're ready to cross compile anything you like.
    </p>

    <h3>Step 5a: Cross compile your Project (Autotools)</h3>

    <p>
    If you use the
    <a href="http://www.lrde.epita.fr/~adl/autotools.html">Autotools</a>,
    all you have to do is:
    </p>
    <pre>./configure --host=<span class="target">i386-mingw32msvc</span>
make</pre>

    <p>
    Don't worry about a warning like this:
    </p>
    <pre>configure: WARNING: If you wanted to set the --build type, don't use --host.
If a cross compiler is detected then cross compile mode will be used.</pre>
    <p>
    Everything will be just fine.
    </p>

    <h3>Step 5b: Cross compile your Project (Makefile)</h3>

    <p>
    If you have a handwritten Makefile,
    you probably will have to make a few adjustments to it:
    </p>
    <pre>CC=$(CROSS)gcc
LD=$(CROSS)ld
AR=$(CROSS)ar</pre>
    <p>
    You may have to add a few others, depending on your project.
    </p>

    <p>
    Then, all you have to do is:
    </p>
    <pre>make CROSS=<span class="target">i386-mingw32msvc</span>-</pre>
    <p>
    That's it!
    </p>
</div>

<div class="section">
<h2 id="latest-release">Latest Release</h2>

    <dl>

    <dt>2009-06-xx &ndash; Release 2.6</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.6.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.6">Changelog</a>
        </p>

        <p>
        This release ...
        </p>

        <p>
        The documentation and website are completely revised.
        </p>

        <p>
        New packages haven been added.
        </p>

        <p>
        New versions of various packages are supported.
        </p>
    </dd>

    <dt>Old Releases</dt>
    <dd>
        <a href="#history">History</a>
    </dd>

    </dl>
</div>

<div class="section">
<h2 id="development">Development Version</h2>

    <p>
    To obtain the current development version,
    install
    <a href="http://www.selenic.com/mercurial/">Mercurial</a>
    and run:
    </p>

    <pre>hg clone http://www.profv.de/mingw_cross_env/hgweb.cgi mingw_cross_env</pre>

    <p>
    You can also browse the
    <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi">Web Repository</a>.
    </p>
</div>

<div class="section">
<h2 id="requirements">Requirements</h2>

    <p>
    Mingw_cross_env requires a recent Unix system
    where the following components are installed:
    </p>

    <table>
    <tr>
        <td><a href="http://www.gnu.org/software/bash/">Bash</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.bzip.org/">Bzip2</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://gcc.gnu.org/">GCC</a> (gcc, g++)</td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.gnu.org/software/make/">GNU Make</a></td>
        <td>&gt;= 3.81</td>
    </tr>
    <tr>
        <td><a href="http://www.gnu.org/software/sed/">GNU Sed</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.openssl.org/">OpenSSL</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.gnu.org/software/patch/">Patch</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.perl.org/">Perl</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.scons.org/">SCons</a></td>
        <td>&gt;= 0.98</td>
    </tr>
    <tr>
        <td><a href="http://www.info-zip.org/UnZip.html">UnZip</a></td>
        <td></td>
    </tr>
    <tr>
        <td><a href="http://www.gnu.org/software/wget/">Wget</a></td>
        <td></td>
    </tr>
    </table>

    <p>
    Detailed installation instructions
    for various systems follow.
    </p>

    <h3>Debian</h3>

    <pre>aptitude install -R bzip2 g++ make openssl patch scons unzip</pre>

    <h3>FreeBSD</h3>

    <pre>pkg_add -r bash gmake gsed perl unzip wget</pre>

    <h3>Frugalware</h3>

    <pre>pacman-g2 -S scons</pre>

    <h3>MacOS X</h3>

    <p>
    Install
    <a href="http://developer.apple.com/TOOLS/xcode/">Xcode</a>
    and
    <a href="http://www.macports.org/">MacPorts</a>,
    then run:
    </p>
    <pre>sudo port install gmake gsed scons wget</pre>
</div>

<div class="section">
<h2 id="usage">Usage</h2>

    <dl class="usage">

    <dt>make</dt>

        <dd>
        build all packages,
        non-parallel
        </dd>

    <dt>make gcc</dt>

        <dd>
        build a minimal useful set of packages,
        i.e. the cross compilers
        and the most basic packages,
        non-parallel
        </dd>

    <dt>make foo bar</dt>

        <dd>
        build packages "foo", "bar" and their dependencies,
        non-parallel
        </dd>

    <dt>make foo bar -j 4 JOBS=2</dt>

        <dd>
        build packages "foo", "bar" and their dependencies,
        where up to 4 packages are build in parallel,
        each with up to 2 compiler processes running in parallel
        </dd>

    <dt>make strip</dt>

        <dd>
        strip all package builds and remove unnecessary files
        </dd>

    <dt>make clean</dt>

        <dd>
        remove all package builds
        &ndash; use with caution!
        </dd>

    <dt>make clean-pkg</dt>

        <dd>
        remove all unused package files,
        handy after a successful "make update"
        </dd>

    <dt>make update</dt>

        <dd>
        update the version numbers of all packages,
        download the new versions and note their checksums
        &ndash; use with caution!
        </dd>

    <dt>make dist</dt>

        <dd>
        build a source distribution tarball
        </dd>

    </dl>
</div>

<div class="section">
<h2 id="packages">List of Packages</h2>

    <table>
    <!-- begin of package list -->
    <!-- end of package list -->
    </table>
</div>

<div class="section">
<h2 id="copyright">Copyright</h2>

    <p>Authors:</p>
    <ul class="authors">
        <li>Volker Grabsch &lt;vog@notjusthosting.com&gt;</li>
        <li>Rocco Rutte</li>
        <li>Andreas Roever</li>
        <li>Martin Lambers</li>
        <li>Tony Theodore</li>
        <li>Giuseppe Scrivano</li>
        <li>Martin Gerhardy</li>
        <li>Mark Brand</li>
        <li>Hans Bezemer</li>
    </ul>

    <p>
    Permission is hereby granted, free of charge, to any person obtaining
    a copy of this software and associated documentation files (the
    "Software"), to deal in the Software without restriction, including
    without limitation the rights to use, copy, modify, merge, publish,
    distribute, sublicense, and/or sell copies of the Software, and to
    permit persons to whom the Software is furnished to do so, subject
    to the following conditions:
    </p>

    <p>
    The above copyright notice and this permission notice shall be
    included in all copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
    IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
    CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
    TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
    SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    </p>
</div>

<div class="section">
<h2 id="history">History</h2>

    <dl>

    <dt>2009-04-06 &ndash; Release 2.5</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.5.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.5">Changelog</a>
        </p>

        <p>
        This release fixes a download error caused by the MinGW project.
        They suddenly changed the names of their source tarballs.
        <a href="http://www.w3.org/Provider/Style/URI">That sort of thing should never happen!</a>
        </p>

        <p>
        This release also contains some bugfixes
        which allow it to run on a wider range of systems.
        </p>

        <p>
        All downloaded files are now
        verified by their SHA-1 checksums.
        </p>

        <p>
        New versions of various packages are supported.
        </p>
    </dd>

    <dt>2009-03-08 &ndash; Release 2.4</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.4.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.4">Changelog</a>
        </p>

        <p>
        This release provides many new libraries such as
        wxWidgets, GTK+ and OpenEXR.
        </p>

        <p>
        In addition, new versions of various packages
        are supported.
        </p>
    </dd>

    <dt>2009-02-09 &ndash; Release 2.3</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.3.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.3">Changelog</a>
        </p>

        <p>
        This release fixes some serious build problems on FreeBSD and MacOS-X.
        </p>

        <p>
        The Makefile has a new target "clean-pkg"
        and allows to be called from a separate build directory
        via "make -f .../Makefile".
        </p>

        <p>
        Some new versions of the packages are supported,
        especially GCC-4.3 by switching from MinGW GCC to
        <a href="http://www.tdragon.net/recentgcc/">TDM-GCC</a>.
        </p>
    </dd>

    <dt>2009-01-31 &ndash; Release 2.2<dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.2.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.2">Changelog</a>
        </p>

        <p>
        This release fixes some minor build problems.
        </p>

        <p>
        It also supports some new packages and
        some newer versions of the already supported packages.
        </p>

        <p>
        Parallelization is now disabled by default.
        </p>
    </dd>

    <dt>2008-12-13 &ndash; Release 2.1</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.1.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.1">Changelog</a>
        </p>

        <p>
        This release fixes a download error caused by the GDAL project.
        They suddenly changed their download URLs.
        <a href="http://www.w3.org/Provider/Style/URI">That sort of thing should never happen!</a>
        </p>

        <p>
        In addition, some newer versions of various packages are supported.
        </p>

        <p>
        There is also a small compatibility fix for OS X.
        </p>
    </dd>

    <dt>2008-11-10 &ndash; Release 2.0</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-2.0.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=2.0">Changelog</a>
        </p>

        <p>
        The shell script has been rewritten as Makefile
        and supports partial builds and parallel builds.
        </p>

        <p>
        As usual,
        this release also supports some new packages and
        some newer versions of the already supported packages.
        </p>
    </dd>

    <dt>2008-01-11 &ndash; Release 1.4</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-1.4.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=1.4">Changelog</a>
        </p>

        <p>
        This release now includes a tutorial by Hans Bezemer
        and has improved compile options of FLTK.
        As usual, it supports some newer versions of the libraries.
        </p>

        <p>
        At the <a href="http://www.fefe.de/nowindows/">request of its author</a>,
        libowfat is no longer supported from this release on.
        </p>

        <p>
        The script now uses a specific SourceForge mirror
        instead of randomly chosen ones,
        because the download phase
        often stumbled on some very slow mirrors.
        </p>
    </dd>

    <dt>2007-12-23 &ndash; Release 1.3</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-1.3.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=1.3">Changelog</a>
        </p>

        <p>
        A sudden change in the download URLs of GEOS
        made the automatic download fail.
        <a href="http://www.w3.org/Provider/Style/URI">Such changes should never happen!</a>
        But it happened,
        and this quick release is an attempt to limit the damage.
        </p>

        <p>
        This release also supports some newer versions of the libraries
        including support for fontconfig-2.5.0.
        </p>
    </dd>

    <dt>2007-12-13 &ndash; Release 1.2</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-1.2.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=1.2">Changelog</a>
        </p>

        <p>
        This release is a switch from gcc-3 to gcc-4.
        It also supports a new library and
        some newer versions of the already supported libraries.
        </p>
    </dd>

    <dt>2007-07-24 &ndash; Release 1.1</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-1.1.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=1.1">Changelog</a>
        </p>

        <p>
        This release is the result of the public attention the release 1.0 got.
        It contains many improvements suggested by its first users,
        and adds support for many new libraries.
        </p>

        <p>
        Thanks to Rocco Rutte who contributed many code snippets.
        </p>
    </dd>

    <dt>2007-06-19 &ndash; Release 1.0</dt>
    <dd>
        <p>
        <a href="http://www.profv.de/mingw_cross_env/mingw_cross_env-1.0.tar.gz">Download</a> |
        <a href="http://www.profv.de/mingw_cross_env/hgweb.cgi?cl=1.0">Changelog</a>
        </p>

        <p>
        This first release has been created in a 7-day-sprint.
        </p>
    </dd>

    <dt>2007-06-12 &ndash; Project start</dt>
    <dd>
    </dd>

    </dl>
</div>

<div class="section">
<h2 id="see-also">See also</h2>

    <h3>This project</h3>

    <ul>
    <li>
        <a href="http://www.profv.de/mingw_cross_env/">Project website</a>
    </li>
    <li>
        <a href="http://freshmeat.net/projects/mingw_cross_env">Project entry on Freshmeat</a>
        <br>
        with a filled
        <a href="http://freshmeat.net/projects/mingw_cross_env/comments">comments section</a>
    </li>
    <li>
        <a href="http://lists.debian.org/debian-embedded/2007/06/msg00007.html">First release anouncement</a>
        <br>
        and the discussion around it
    </li>
    </ul>

    <h3>Related projects</h3>

    <ul>
    <li>
        <a href="http://www.sandroid.org/imcross/">IMCROSS</a>
        <br>
        another project with similar goal
    </li>
    <li>
        <a href="http://packages.debian.org/stable/devel/mingw32">mingw32 Debian package</a>
        <br>
        bare win32 cross compiler
    </li>
    <li>
        <a href="http://gnuwin32.sourceforge.net/">GnuWin32</a>
        <br>
        win32 ports of many free software packages
    </li>
    <li>
        <a href="http://www.libsdl.org/extras/win32/cross/README.txt">MinGW cross-compiler build script</a>
        <br>
        old script provided by the
        <a href="http://www.libsdl.org/">SDL project</a>
    </li>
    </ul>

    <h3>Articles</h3>

    <ul>
    <li>
        <a href="http://thebeezspeaks.blogspot.com/2009/04/cross-compilers-new-wave.html">Cross compilers, the new wave</a>
        <br>
        appeared on
        <a href="http://lxer.com/module/newswire/view/118868">LXer</a>
        and
        <a href="http://www.linuxtoday.com/developer/2009041501335RVSWDV">Linux Today</a>
    </li>
    <li>
        <a href="http://wiki.njh.eu/Cross_Compiling_for_Win32">Cross Compiling for Win32</a>
        <br>
        overview of win32 cross compiling
    </li>
    <li>
        <a href="http://www.mingw.org/wiki/LinuxCrossMinGW">MinGW cross compiler for Linux build environment</a>
        <br>
        official tutorial of the
        <a href="">MinGW project</a>
    </li>
    <li>
        <a href="http://wiki.wxwidgets.org/Cross-Compiling_Under_Linux#Cross-compiling_under_Linux_for_MS_Windows">Cross-compiling under Linux for MS Windows</a>
        <br>
        old tutorial provided by the
        <a href="http://www.wxwidgets.org/">wxWidgets project</a>
    </li>
    </ul>
</div>

</body>
</html>
