This file is part of mingw-cross-env.
See doc/index.html for further information.

diff -urN a/src/osgPlugins/xine/ReaderWriterXine.cpp b/src/osgPlugins/xine/ReaderWriterXine.cpp
--- a/src/osgPlugins/xine/ReaderWriterXine.cpp	2010-03-13 11:38:10.000000000 +0100
+++ b/src/osgPlugins/xine/ReaderWriterXine.cpp	2010-04-27 12:21:20.597790305 +0200
@@ -326,9 +326,15 @@
             const char* user_home = xine_get_homedir();
             if(user_home)
             {
-                char* cfgfile = NULL;
-                int result = asprintf(&(cfgfile), "%s/.xine/config", user_home);                
-                if (result>0) xine_config_load(_xine, cfgfile);
+                const char* tail = "/.xine/config";
+                int size = strlen(user_home) + strlen(tail) + 1;
+                char* cfgfile = malloc(size);
+                if (cfgfile)
+                {
+                    strcpy(cfgfile, user_home);
+                    strcat(cfgfile, tail);               
+                    xine_config_load(_xine, cfgfile);
+                }
             }
 
             xine_init(_xine);
