diff -uNr a/src/util/u_queue.c b/src/util/u_queue.c
--- a/src/util/u_queue.c	2017-09-17 19:03:22.000000000 -0400
+++ b/src/util/u_queue.c	2018-04-12 20:13:52.000000000 -0400
@@ -246,7 +246,7 @@
       }
 
       if (flags & UTIL_QUEUE_INIT_USE_MINIMUM_PRIORITY) {
-   #if defined(__linux__)
+   #if defined(__linux__) && defined (SCHED_IDLE)
          struct sched_param sched_param = {0};
 
          /* The nice() function can only set a maximum of 19.
