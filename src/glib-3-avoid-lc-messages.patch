This file is part of mingw-cross-env.
See doc/index.html for further information.

diff -r f084585629df gio/gsettings.c
--- a/gio/gsettings.c	Tue Apr 27 23:13:34 2010 +0200
+++ b/gio/gsettings.c	Tue Apr 27 23:17:47 2010 +0200
@@ -782,16 +782,13 @@
       const gchar *translated;
       GError *error = NULL;
       const gchar *domain;
-      gint lc_category;
 
       domain = g_settings_schema_get_gettext_domain (settings->priv->schema);
 
       if (lc_char == 't')
-        lc_category = LC_TIME;
+        translated = dcgettext (domain, unparsed, LC_TIME);
       else
-        lc_category = LC_MESSAGES;
-
-      translated = dcgettext (domain, unparsed, lc_category);
+        translated = dgettext (domain, unparsed);
 
       if (translated != unparsed)
         /* it was translated, so we need to re-parse it */
