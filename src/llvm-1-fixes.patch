diff -uNr a/lib/ExecutionEngine/JIT/CMakeLists.txt b/lib/ExecutionEngine/JIT/CMakeLists.txt
--- a/lib/ExecutionEngine/JIT/CMakeLists.txt	2011-07-28 20:14:25.000000000 -0400
+++ b/lib/ExecutionEngine/JIT/CMakeLists.txt	2012-12-27 15:31:36.302394951 -0500
@@ -12,6 +12,7 @@
   )
 
 add_llvm_library_dependencies(LLVMJIT
+  LLVMCodeGen
   LLVMCore
   LLVMExecutionEngine
   LLVMRuntimeDyld
diff -uNr a/utils/unittest/CMakeLists.txt b/utils/unittest/CMakeLists.txt
--- a/utils/unittest/CMakeLists.txt	2011-07-27 06:19:32.000000000 -0400
+++ b/utils/unittest/CMakeLists.txt	2012-12-27 15:57:13.797820822 -0500
@@ -37,6 +37,14 @@
   googletest/gtest-typed-test.cc
   )
 
+add_llvm_library_dependencies(gtest
+  LLVMSupport
+  )
+
 add_llvm_library(gtest_main
   UnitTestMain/TestMain.cpp
   )
+
+add_llvm_library_dependencies(gtest_main
+  gtest
+  )
