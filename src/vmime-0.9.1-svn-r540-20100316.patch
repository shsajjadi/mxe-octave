This file is part of mingw-cross-env.
See doc/index.html for further information.

diff -urN b/SConstruct c/SConstruct
--- b/SConstruct	2010-03-29 00:54:38.397987385 +0200
+++ c/SConstruct	2010-03-29 00:57:19.822986846 +0200
@@ -436,7 +436,7 @@
 #  Set options  #
 #################
 
-EnsureSConsVersion(0, 94)
+EnsureSConsVersion(0, 98, 1)
 
 SetOption('implicit_cache', 1)
 
@@ -578,7 +578,10 @@
 #  Configuration Environment  #
 ###############################
 
-env = Environment(options = opts)
+try:
+	env = Environment(variables = opts)
+except TypeError:
+	env = Environment(options = opts)
 
 env.Append(ENV = os.environ)
 env.Append(ENV = {'PATH' : os.environ['PATH']})
@@ -953,7 +956,7 @@
 # Tests
 if env['build_tests'] == 'yes':
 	if env['debug'] == 'yes':
-		env = env.Copy()
+		env = env.Clone()
 		env.Append(LIBS = ['cppunit', 'dl', packageVersionedGenericName + '-debug', 'pthread'])
 		env.Append(LIBPATH=['.'])
 		Default(
diff -urN b/src/mailbox.cpp c/src/mailbox.cpp
--- b/src/mailbox.cpp	2010-03-29 00:54:29.510858398 +0200
+++ c/src/mailbox.cpp	2010-03-29 00:57:19.822986846 +0200
@@ -311,7 +311,7 @@
 	// (email address is mandatory, whereas name is optional).
 	if (address.empty() && !name.empty())
 	{
-		m_email.empty();
+		m_email.clear();
 		m_email.reserve(name.size());
 		m_name.removeAllWords();
 
@@ -324,7 +324,7 @@
 	else
 	{
 		text::decodeAndUnfold(name, &m_name);
-		m_email.empty();
+		m_email.clear();
 		m_email.reserve(address.size());
 
 		for (string::size_type i = 0 ; i < address.size() ; ++i)
diff -urN b/src/platforms/posix/posixFile.cpp c/src/platforms/posix/posixFile.cpp
--- b/src/platforms/posix/posixFile.cpp	2010-03-29 00:54:29.522857280 +0200
+++ c/src/platforms/posix/posixFile.cpp	2010-03-29 00:57:19.821867144 +0200
@@ -306,6 +306,9 @@
 
 	if (::stat(m_nativePath.c_str(), &buf) == -1)
 	{
+		if (errno == ENOENT)
+			return false;
+
 		posixFileSystemFactory::reportError(m_path, errno);
 		return false;
 	}
@@ -320,6 +323,9 @@
 
 	if (::stat(m_nativePath.c_str(), &buf) == -1)
 	{
+		if (errno == ENOENT)
+			return false;
+
 		posixFileSystemFactory::reportError(m_path, errno);
 		return false;
 	}
@@ -334,6 +340,9 @@
 
 	if (::stat(m_nativePath.c_str(), &buf) == -1)
 	{
+		if (errno == ENOENT)
+			return false;
+
 		posixFileSystemFactory::reportError(m_path, errno);
 		return false;
 	}
@@ -349,6 +358,9 @@
 
 	if (::stat(m_nativePath.c_str(), &buf) == -1)
 	{
+		if (errno == ENOENT)
+			return false;
+
 		posixFileSystemFactory::reportError(m_path, errno);
 		return false;
 	}
