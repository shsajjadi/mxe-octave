This file is part of mingw-cross-env.
See doc/index.html for further information.

Contains ad hoc patches for cross building.

From 19d2c3dbe60872e57b6e897f8a6f66c8b11ca103 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Fri, 28 Oct 2011 09:23:41 +0200
Subject: [PATCH 1/3] add missing static library linking


diff --git a/lib/gnutls.pc.in b/lib/gnutls.pc.in
index c45f8f3..57d0dbb 100644
--- a/lib/gnutls.pc.in
+++ b/lib/gnutls.pc.in
@@ -19,6 +19,6 @@ Description: Transport Security Layer implementation for the GNU system
 URL: http://www.gnu.org/software/gnutls/
 Version: @VERSION@
 Libs: -L${libdir} -lgnutls
-Libs.private: @LTLIBNETTLE@
+Libs.private: @LTLIBNETTLE@ @LIBS@
 @GNUTLS_REQUIRES_PRIVATE@
 Cflags: -I${includedir}
-- 
1.7.9.2


From 02fe82f7e712f6be7dd7305501551ac2661ca540 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Thu, 24 Nov 2011 15:06:06 +0100
Subject: [PATCH 2/3] disable doc and test (mingw-cross-env specific)


diff --git a/Makefile.am b/Makefile.am
index 0afe4bd..da7436a 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -23,7 +23,7 @@ DISTCHECK_CONFIGURE_FLAGS = --enable-gtk-doc --disable-valgrind-tests
 
 SUBDIRS = gl lib extra po
 
-SUBDIRS += src doc tests
+SUBDIRS += src
 
 if HAVE_GUILE
 SUBDIRS += guile
-- 
1.7.9.2


From 5f28dc1975988edd7a9527a9e587341cd4cc3101 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Fri, 2 Mar 2012 21:39:39 +0100
Subject: [PATCH 3/3] no fchmod() for MinGW32

taken from
http://lists.gnu.org/archive/html/gnutls-devel/2012-03/msg00005.html

diff --git a/src/libopts/makeshell.c b/src/libopts/makeshell.c
index 1730c81..45d170b 100644
--- a/src/libopts/makeshell.c
+++ b/src/libopts/makeshell.c
@@ -164,7 +164,9 @@ optionParseShell(tOptions * pOpts)
         printf(SHOW_PROG_ENV, pOpts->pzPROGNAME);
 
     fflush(stdout);
+#ifndef __MINGW32__
     fchmod(STDOUT_FILENO, 0755);
+#endif
     fclose(stdout);
     if (ferror(stdout)) {
         fputs(zOutputFail, stderr);
-- 
1.7.9.2

