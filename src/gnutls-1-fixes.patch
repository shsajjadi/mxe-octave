This file is part of mingw-cross-env.
See doc/index.html for further information.

Contains ad hoc patches for cross building.

From e0633729f352fd3ca1dc31e11db0e03b0ec39132 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Fri, 25 Mar 2011 16:09:35 +0100
Subject: [PATCH 1/2] C++ compatibility fix


diff --git a/lib/includes/gnutls/compat.h b/lib/includes/gnutls/compat.h
index af02d92..6f200db 100644
--- a/lib/includes/gnutls/compat.h
+++ b/lib/includes/gnutls/compat.h
@@ -114,6 +114,10 @@
 #define LIBGNUTLS_VERSION_NUMBER GNUTLS_VERSION_NUMBER
 #define LIBGNUTLS_EXTRA_VERSION GNUTLS_VERSION
 
+#ifdef __cplusplus
+extern "C" {
+#endif
+
 /* The gnutls_retr_st was deprecated by gnutls_certificate_retrieve_function()
  * and gnutls_retr2_st.
  */
@@ -345,4 +349,7 @@ gnutls_sign_callback_get (gnutls_session_t session, void **userdata)
 
   void gnutls_transport_set_lowat (gnutls_session_t session, int num) _GNUTLS_GCC_ATTR_DEPRECATED;
 
+#ifdef  __cplusplus
+}
+#endif
 #endif /* _GNUTLS_COMPAT_H */
-- 
1.7.4.1


From 4e2d2db1c9ca65ddfd59eefa6802177559676328 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Fri, 25 Mar 2011 16:10:53 +0100
Subject: [PATCH 2/2] add parameter vaiable to avoid gcc error


diff --git a/lib/system.c b/lib/system.c
index f3bed5f..b795fca 100644
--- a/lib/system.c
+++ b/lib/system.c
@@ -50,7 +50,7 @@
 #ifdef _WIN32
 
 int
-system_errno (gnutls_transport_ptr)
+system_errno (gnutls_transport_ptr p)
 {
   int tmperr = WSAGetLastError ();
   int ret = 0;
-- 
1.7.4.1

