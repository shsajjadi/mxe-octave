This file is part of mingw-cross-env.
See doc/index.html for further information.

Contains ad hoc patches for cross building.

From 1b8300eee68e9768ba628d51facf8183255a6e78 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Fri, 28 Oct 2011 09:23:41 +0200
Subject: [PATCH 1/3] add missing static library linking


diff --git a/lib/gnutls.pc.in b/lib/gnutls.pc.in
index 32170b6..de032a2 100644
--- a/lib/gnutls.pc.in
+++ b/lib/gnutls.pc.in
@@ -20,6 +20,6 @@ Description: Transport Security Layer implementation for the GNU system
 URL: http://www.gnu.org/software/gnutls/
 Version: @VERSION@
 Libs: -L${libdir} -lgnutls
-Libs.private: @LTLIBNETTLE@
+Libs.private: @LTLIBNETTLE@ @LIBS@
 @GNUTLS_REQUIRES_PRIVATE@
 Cflags: -I${includedir}
-- 
1.7.7.3


From 84e79eadf2edae75ecb93792cf9899932b9d3a49 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Thu, 24 Nov 2011 14:40:11 +0100
Subject: [PATCH 2/3] don't try to build crywrap for windows


diff --git a/configure.ac b/configure.ac
index 028ffe4..9c183ae 100644
--- a/configure.ac
+++ b/configure.ac
@@ -431,7 +431,7 @@ AC_CHECK_FUNCS([alarm atexit dup2 epoll_create kqueue memchr memset munmap \
 
 PKG_CHECK_MODULES(LIBIDN, libidn >= 0.0.0, [libidn=yes], [libidn=no])
 
-AM_CONDITIONAL(ENABLE_CRYWRAP, test "x$libidn" != "xno")
+AM_CONDITIONAL(ENABLE_CRYWRAP, test "x$have_win" != "xyes" && test "x$libidn" != "xno")
 
 dnl end of crywrap requirements
 
-- 
1.7.7.3


From fc59afca0261a79ebca4898c6d70434a7f9895f7 Mon Sep 17 00:00:00 2001
From: mingw-cross-env
Date: Thu, 24 Nov 2011 15:06:06 +0100
Subject: [PATCH 3/3] disable doc and test (mingw-cross-env specific)


diff --git a/Makefile.am b/Makefile.am
index 14c2642..ec86896 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -21,7 +21,7 @@
 
 DISTCHECK_CONFIGURE_FLAGS = --enable-gtk-doc --disable-valgrind-tests
 
-SUBDIRS = gl lib extra po src doc tests
+SUBDIRS = gl lib extra po src
 
 if HAVE_GUILE
 SUBDIRS += guile
-- 
1.7.7.3

